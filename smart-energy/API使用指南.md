# æ¯æ—¥ç”¨é›»é‡èˆ‡é›»è²»çµ±è¨ˆ API ä½¿ç”¨æŒ‡å—

## ğŸ“‹ ç›®éŒ„

1. [åŠŸèƒ½æ¦‚è¿°](#åŠŸèƒ½æ¦‚è¿°)
2. [å°é›»ç´¯é€²é›»è²»è¨ˆç®—èªªæ˜](#å°é›»ç´¯é€²é›»è²»è¨ˆç®—èªªæ˜)
3. [ç’°å¢ƒè¨­å®šèˆ‡å•Ÿå‹•](#ç’°å¢ƒè¨­å®šèˆ‡å•Ÿå‹•)
4. [API ç«¯é»ç¸½è¦½](#api-ç«¯é»ç¸½è¦½)
5. [API è©³ç´°èªªæ˜èˆ‡ç¯„ä¾‹](#api-è©³ç´°èªªæ˜èˆ‡ç¯„ä¾‹)
6. [ç¶²é æ“ä½œæ•™å­¸](#ç¶²é æ“ä½œæ•™å­¸)

---

## åŠŸèƒ½æ¦‚è¿°

æœ¬åŠŸèƒ½æ¨¡çµ„æä¾›æ™ºæ…§å®¶åº­ç”¨é›»é‡èˆ‡é›»è²»çš„çµ±è¨ˆåˆ†æï¼Œä¸»è¦ç‰¹è‰²ï¼š

- âš¡ **å°é›»ç´¯é€²é›»è²»è¨ˆç®—**ï¼šæ¡ç”¨ 2025 å¹´æœ€æ–°å°é›»ä½å®…ç”¨é›»è²»ç‡
- ğŸ“Š **å¤šç¶­åº¦çµ±è¨ˆ**ï¼šæ”¯æ´æ¯æ—¥ã€æ¯æœˆã€æ¯å¹´çš„ç”¨é›»çµ±è¨ˆ
- ğŸ”„ **æ™‚æ®µæ¯”è¼ƒ**ï¼šå¯æ¯”è¼ƒä¸åŒæ—¥æœŸ/æœˆä»½/å¹´ä»½çš„ç”¨é›»å·®ç•°
- ğŸ“ **æ‰¹æ¬¡æ–°å¢**ï¼šæ”¯æ´ä¸€æ¬¡æ–°å¢å¤šç­†ç”¨é›»è¨˜éŒ„
- ğŸ”Œ **è‡ªå‹•è¨ˆç®—**ï¼šå¯å¾è¨­å‚™é¡å®šåŠŸç‡è‡ªå‹•è¨ˆç®—ç”¨é›»é‡

---

## å°é›»ç´¯é€²é›»è²»è¨ˆç®—èªªæ˜

### è²»ç‡è¡¨ï¼ˆ2025å¹´æœ€æ–°ï¼‰

å°é›»ä½å®…ç”¨é›»æ¡ç”¨ã€Œç´¯é€²è²»ç‡ã€åˆ¶åº¦ï¼Œç”¨é›»é‡è¶Šé«˜ï¼Œæ¯åº¦é›»åƒ¹è¶Šè²´ã€‚

#### å¤æœˆï¼ˆ6æœˆï½9æœˆï¼‰

| ç´šè· | ç”¨é›»åº¦æ•¸ | æ¯åº¦é›»åƒ¹ |
|------|----------|----------|
| ç¬¬ä¸€ç´š | 0ï½120 åº¦ | 1.78 å…ƒ |
| ç¬¬äºŒç´š | 121ï½330 åº¦ | 2.55 å…ƒ |
| ç¬¬ä¸‰ç´š | 331ï½500 åº¦ | 3.80 å…ƒ |
| ç¬¬å››ç´š | 501ï½700 åº¦ | 5.14 å…ƒ |
| ç¬¬äº”ç´š | 701ï½1000 åº¦ | 6.44 å…ƒ |
| ç¬¬å…­ç´š | 1001 åº¦ä»¥ä¸Š | 8.86 å…ƒ |

#### éå¤æœˆï¼ˆ10æœˆï½éš”å¹´5æœˆï¼‰

| ç´šè· | ç”¨é›»åº¦æ•¸ | æ¯åº¦é›»åƒ¹ |
|------|----------|----------|
| ç¬¬ä¸€ç´š | 0ï½120 åº¦ | 1.78 å…ƒ |
| ç¬¬äºŒç´š | 121ï½330 åº¦ | 2.26 å…ƒ |
| ç¬¬ä¸‰ç´š | 331ï½500 åº¦ | 3.13 å…ƒ |
| ç¬¬å››ç´š | 501ï½700 åº¦ | 4.24 å…ƒ |
| ç¬¬äº”ç´š | 701ï½1000 åº¦ | 5.27 å…ƒ |
| ç¬¬å…­ç´š | 1001 åº¦ä»¥ä¸Š | 7.03 å…ƒ |

### è¨ˆç®—ç¯„ä¾‹

å‡è¨­ **11æœˆï¼ˆéå¤æœˆï¼‰** ç”¨é›» **350 åº¦**ï¼š

```
ç¬¬ä¸€ç´šï¼š120 åº¦ Ã— 1.78 å…ƒ = 213.60 å…ƒ
ç¬¬äºŒç´šï¼š210 åº¦ Ã— 2.26 å…ƒ = 474.60 å…ƒï¼ˆ121~330åº¦ï¼Œå…±210åº¦ï¼‰
ç¬¬ä¸‰ç´šï¼š20 åº¦ Ã— 3.13 å…ƒ = 62.60 å…ƒï¼ˆ331~350åº¦ï¼Œå…±20åº¦ï¼‰
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ç¸½é›»è²»ï¼š213.60 + 474.60 + 62.60 = 750.80 å…ƒ
```

### é‚Šéš›è²»ç‡è¨ˆç®—

æœ¬ç³»çµ±æ¡ç”¨ã€Œé‚Šéš›è²»ç‡ã€è¨ˆç®—æ¯ç­†ç”¨é›»çš„çœŸå¯¦æˆæœ¬ï¼š

```
é€™ç­†é›»è²» = åŠ å…¥é€™ç­†å¾Œçš„ç¸½é›»è²» - åŠ å…¥é€™ç­†å‰çš„ç¸½é›»è²»
```

é€™æ¨£å¯ä»¥æº–ç¢ºåæ˜ æ¯æ¬¡ç”¨é›»åœ¨ç´¯é€²è²»ç‡åˆ¶åº¦ä¸‹çš„çœŸå¯¦æˆæœ¬ã€‚

---

## ç’°å¢ƒè¨­å®šèˆ‡å•Ÿå‹•

### 1. å®‰è£ç›¸ä¾å¥—ä»¶

```bash
cd smart-energy
pip install -r requirements.txt
```

### 2. è¨­å®šè³‡æ–™åº«

ç¢ºä¿ MySQL å·²å®‰è£ä¸¦åŸ·è¡Œï¼Œç„¶å¾ŒåŒ¯å…¥è³‡æ–™åº«ï¼š

```sql
CREATE DATABASE smart_home_db;
USE smart_home_db;

-- åŸ·è¡Œ database_backup è³‡æ–™å¤¾ä¸­çš„ SQL æª”æ¡ˆ
SOURCE database_backup/smart_home_db.sql;
SOURCE database_backup/users_data.sql;
SOURCE database_backup/devices_data.sql;
SOURCE database_backup/device_status_data.sql;
SOURCE database_backup/power_logs_data.sql;
```

### 3. è¨­å®šè³‡æ–™åº«é€£ç·š

ç·¨è¼¯ `config.py`ï¼Œç¢ºèªè³‡æ–™åº«é€£ç·šè³‡è¨Šï¼š

```python
SQLALCHEMY_DATABASE_URI = 'mysql+pymysql://root:12345@localhost:3306/smart_home_db'
```

### 4. å•Ÿå‹• Flask ä¼ºæœå™¨

```bash
python app.py
```

çœ‹åˆ°ä»¥ä¸‹è¨Šæ¯è¡¨ç¤ºå•Ÿå‹•æˆåŠŸï¼š

```
* Running on http://127.0.0.1:5000
* Debug mode: on
```

---

## API ç«¯é»ç¸½è¦½

| åŠŸèƒ½ | æ–¹æ³• | ç«¯é» | èªªæ˜ |
|------|------|------|------|
| æ¯æ—¥çµ±è¨ˆ | GET | `/usage/daily` | å–å¾—æ¯æ—¥ç”¨é›»çµ±è¨ˆ |
| é›»è²»å¸³å–® | GET | `/usage/bill` | å–å¾—æ¯æœˆé›»è²»å¸³å–® |
| æœˆä»½çµ±è¨ˆ | GET | `/usage/monthly/<year>/<month>` | å–å¾—æŒ‡å®šæœˆä»½çµ±è¨ˆ |
| å¹´åº¦çµ±è¨ˆ | GET | `/usage/yearly/<year>` | å–å¾—æŒ‡å®šå¹´åº¦çµ±è¨ˆ |
| æ™‚æ®µæ¯”è¼ƒ | GET | `/usage/compare` | æ¯”è¼ƒå…©å€‹æ™‚æ®µçš„ç”¨é›» |
| æ–°å¢è¨˜éŒ„ | POST | `/usage/add` | æ–°å¢å–®ç­†ç”¨é›»è¨˜éŒ„ |
| æ‰¹æ¬¡æ–°å¢ | POST | `/usage/batch` | æ‰¹æ¬¡æ–°å¢å¤šç­†è¨˜éŒ„ |

---

## API è©³ç´°èªªæ˜èˆ‡ç¯„ä¾‹

### 1. æ¯æ—¥ç”¨é›»çµ±è¨ˆ

**GET** `/usage/daily`

å–å¾—æ¯æ—¥ç”¨é›»é‡èˆ‡é›»è²»çµ±è¨ˆï¼Œæ”¯æ´æ—¥æœŸç¯„åœç¯©é¸ã€‚

#### åƒæ•¸ï¼ˆå¯é¸ï¼‰

| åƒæ•¸ | èªªæ˜ | ç¯„ä¾‹ |
|------|------|------|
| `start_date` | é–‹å§‹æ—¥æœŸ | `2025-11-01` |
| `end_date` | çµæŸæ—¥æœŸ | `2025-11-30` |

#### ç¯„ä¾‹

```
http://127.0.0.1:5000/usage/daily
http://127.0.0.1:5000/usage/daily?start_date=2025-11-01&end_date=2025-11-15
```

#### å›æ‡‰ç¯„ä¾‹

```json
{
  "ok": true,
  "data": [
    {
      "date": "2025-11-12",
      "total_kwh": 16.7,
      "total_cost": 29.73,
      "record_count": 2
    },
    {
      "date": "2025-11-13",
      "total_kwh": 20.3,
      "total_cost": 36.13,
      "record_count": 2
    }
  ]
}
```

---

### 2. é›»è²»å¸³å–®

**GET** `/usage/bill`

å–å¾—æ¯æœˆé›»è²»å¸³å–®ç¸½è¦½ã€‚

#### ç¯„ä¾‹

```
http://127.0.0.1:5000/usage/bill
```

#### å›æ‡‰ç¯„ä¾‹

```json
{
  "ok": true,
  "monthly_bills": [
    {
      "year": 2025,
      "month": 1,
      "total_kwh": 186.05,
      "total_cost": 362.87
    },
    {
      "year": 2025,
      "month": 6,
      "total_kwh": 768.53,
      "total_cost": 2864.43
    }
  ]
}
```

---

### 3. æœˆä»½çµ±è¨ˆ

**GET** `/usage/monthly/<year>/<month>`

å–å¾—æŒ‡å®šæœˆä»½çš„è©³ç´°ç”¨é›»çµ±è¨ˆï¼ŒåŒ…å«æ¯æ—¥æ˜ç´°ã€‚

#### 2025 å¹´å„æœˆä»½ç¶²å€

| æœˆä»½ | ç¶²å€ |
|------|------|
| 1æœˆ | http://127.0.0.1:5000/usage/monthly/2025/1 |
| 2æœˆ | http://127.0.0.1:5000/usage/monthly/2025/2 |
| 3æœˆ | http://127.0.0.1:5000/usage/monthly/2025/3 |
| 4æœˆ | http://127.0.0.1:5000/usage/monthly/2025/4 |
| 5æœˆ | http://127.0.0.1:5000/usage/monthly/2025/5 |
| 6æœˆ | http://127.0.0.1:5000/usage/monthly/2025/6 |
| 7æœˆ | http://127.0.0.1:5000/usage/monthly/2025/7 |
| 8æœˆ | http://127.0.0.1:5000/usage/monthly/2025/8 |
| 9æœˆ | http://127.0.0.1:5000/usage/monthly/2025/9 |
| 10æœˆ | http://127.0.0.1:5000/usage/monthly/2025/10 |
| 11æœˆ | http://127.0.0.1:5000/usage/monthly/2025/11 |

#### å›æ‡‰ç¯„ä¾‹

```json
{
  "ok": true,
  "year": 2025,
  "month": 11,
  "total_kwh": 51.44,
  "total_cost": 91.56,
  "days_with_data": 4,
  "daily_breakdown": [
    {
      "date": "2025-11-12",
      "kwh": 16.7,
      "cost": 29.73,
      "record_count": 2
    },
    {
      "date": "2025-11-13",
      "kwh": 20.3,
      "cost": 36.13,
      "record_count": 2
    }
  ]
}
```

---

### 4. å¹´åº¦çµ±è¨ˆ

**GET** `/usage/yearly/<year>`

å–å¾—æŒ‡å®šå¹´åº¦çš„ç”¨é›»çµ±è¨ˆï¼ŒåŒ…å«æ¯æœˆæ˜ç´°ã€‚

#### ç¯„ä¾‹

```
http://127.0.0.1:5000/usage/yearly/2025
```

#### å›æ‡‰ç¯„ä¾‹

```json
{
  "ok": true,
  "year": 2025,
  "total_kwh": 4758.94,
  "total_cost": 14006.17,
  "months_with_data": 11,
  "monthly_breakdown": [
    {"month": 1, "kwh": 186.05, "cost": 362.87, "record_count": 97},
    {"month": 2, "kwh": 180.15, "cost": 349.54, "record_count": 86},
    {"month": 6, "kwh": 768.53, "cost": 2864.43, "record_count": 88},
    {"month": 7, "kwh": 687.96, "cost": 2361.21, "record_count": 95}
  ]
}
```

---

### 5. æ™‚æ®µæ¯”è¼ƒ

**GET** `/usage/compare`

æ¯”è¼ƒå…©å€‹æ™‚æ®µçš„ç”¨é›»é‡èˆ‡é›»è²»å·®ç•°ã€‚

#### åƒæ•¸

| åƒæ•¸ | èªªæ˜ | ç¯„ä¾‹å€¼ |
|------|------|--------|
| `period_type` | æ¯”è¼ƒé¡å‹ | `day`, `month`, `year` |
| `date1` | ç¬¬ä¸€å€‹æ™‚æ®µ | ä¾é¡å‹æ ¼å¼ä¸åŒ |
| `date2` | ç¬¬äºŒå€‹æ™‚æ®µ | ä¾é¡å‹æ ¼å¼ä¸åŒ |

#### æ—¥æœŸæ ¼å¼

| period_type | date æ ¼å¼ | ç¯„ä¾‹ |
|-------------|-----------|------|
| `day` | YYYY-MM-DD | `2025-11-12` |
| `month` | YYYY-MM | `2025-11` |
| `year` | YYYY | `2025` |

#### ç¯„ä¾‹

```
# æ¯”è¼ƒå…©å¤©
http://127.0.0.1:5000/usage/compare?period_type=day&date1=2025-11-12&date2=2025-11-13

# æ¯”è¼ƒå…©å€‹æœˆ
http://127.0.0.1:5000/usage/compare?period_type=month&date1=2025-06&date2=2025-11

# æ¯”è¼ƒå…©å¹´ï¼ˆè‹¥æœ‰è³‡æ–™ï¼‰
http://127.0.0.1:5000/usage/compare?period_type=year&date1=2024&date2=2025
```

#### å›æ‡‰ç¯„ä¾‹

```json
{
  "ok": true,
  "period_type": "day",
  "period1": {
    "label": "2025-11-12",
    "kwh": 16.7,
    "cost": 29.73,
    "record_count": 2
  },
  "period2": {
    "label": "2025-11-13",
    "kwh": 20.3,
    "cost": 36.13,
    "record_count": 2
  },
  "comparison": {
    "kwh_difference": 3.6,
    "cost_difference": 6.4,
    "kwh_percent_change": 21.56,
    "cost_percent_change": 21.53
  }
}
```

---

### 6. æ–°å¢ç”¨é›»è¨˜éŒ„

**POST** `/usage/add`

æ–°å¢å–®ç­†ç”¨é›»è¨˜éŒ„ï¼Œæ”¯æ´å…©ç¨®æ–¹å¼ï¼š

#### æ–¹å¼ä¸€ï¼šç›´æ¥æä¾›åº¦æ•¸

```json
{
  "device_id": 1,
  "kwh": 5.5,
  "date": "2025-11-30"
}
```

#### æ–¹å¼äºŒï¼šæä¾›ç“¦æ•¸èˆ‡æ™‚æ•¸ï¼ˆè‡ªå‹•è¨ˆç®—åº¦æ•¸ï¼‰

```json
{
  "device_id": 1,
  "watts": 1000,
  "hours": 3,
  "date": "2025-11-30"
}
```

#### æ–¹å¼ä¸‰ï¼šåªæä¾›æ™‚æ•¸ï¼ˆè‡ªå‹•å¾è¨­å‚™è®€å–é¡å®šåŠŸç‡ï¼‰

```json
{
  "device_id": 1,
  "hours": 3
}
```

#### å›æ‡‰ç¯„ä¾‹

```json
{
  "ok": true,
  "new_data": {
    "log_id": 922,
    "device_id": 1,
    "log_date": "2025-11-30",
    "energy_consumed": 3.0,
    "cost": 5.34,
    "electricity_rate": 1.78
  },
  "debug_info": {
    "month_base_kwh": 51.44,
    "today_base_kwh": 0,
    "total_accumulated_before": 51.44,
    "total_accumulated_after": 54.44,
    "this_tier_rate": 1.78,
    "calculation_method": "calculated"
  },
  "power_calculation": {
    "power_watts": 1000,
    "hours": 3,
    "calculated_kwh": 3.0
  }
}
```

---

### 7. æ‰¹æ¬¡æ–°å¢è¨˜éŒ„

**POST** `/usage/batch`

ä¸€æ¬¡æ–°å¢å¤šç­†ç”¨é›»è¨˜éŒ„ï¼Œä½¿ç”¨è³‡æ–™åº«äº¤æ˜“ç¢ºä¿åŸå­æ€§ã€‚

#### è«‹æ±‚æ ¼å¼

```json
{
  "records": [
    {"device_id": 1, "kwh": 5.5, "date": "2025-11-30"},
    {"device_id": 2, "watts": 800, "hours": 2, "date": "2025-11-30"},
    {"device_id": 3, "hours": 4}
  ]
}
```

#### å›æ‡‰ç¯„ä¾‹ï¼ˆæˆåŠŸï¼‰

```json
{
  "ok": true,
  "msg": "æ‰¹æ¬¡è™•ç†å®Œæˆ",
  "success_count": 3,
  "failure_count": 0,
  "results": [
    {"index": 0, "success": true, "log_id": 922, "device_id": 1, "kwh": 5.5, "cost": 9.79},
    {"index": 1, "success": true, "log_id": 923, "device_id": 2, "kwh": 1.6, "cost": 2.85},
    {"index": 2, "success": true, "log_id": 924, "device_id": 3, "kwh": 0.08, "cost": 0.14}
  ]
}
```

#### å›æ‡‰ç¯„ä¾‹ï¼ˆæœ‰å¤±æ•—ï¼Œå…¨éƒ¨å›æ»¾ï¼‰

```json
{
  "ok": false,
  "msg": "æ‰¹æ¬¡è™•ç†å¤±æ•—ï¼Œå·²å›æ»¾æ‰€æœ‰è®Šæ›´ã€‚æˆåŠŸ: 2, å¤±æ•—: 1",
  "success_count": 0,
  "failure_count": 3,
  "results": [
    {"index": 0, "success": true, "log_id": 922},
    {"index": 1, "success": true, "log_id": 923},
    {"index": 2, "success": false, "error": "æ‰¾ä¸åˆ°è¨­å‚™ ID: 999"}
  ]
}
```

---

## ç¶²é æ“ä½œæ•™å­¸

### æ­¥é©Ÿ 1ï¼šå•Ÿå‹•ä¼ºæœå™¨

```bash
cd smart-energy
python app.py
```

### æ­¥é©Ÿ 2ï¼šé–‹å•Ÿç€è¦½å™¨

åœ¨ç€è¦½å™¨ä¸­è¼¸å…¥ä»¥ä¸‹ç¶²å€ï¼š

| åŠŸèƒ½ | ç¶²å€ |
|------|------|
| é¦–é  | http://127.0.0.1:5000/ |
| æ¯æ—¥ç”¨é›» | http://127.0.0.1:5000/usage/daily |
| 11æœˆçµ±è¨ˆ | http://127.0.0.1:5000/usage/monthly/2025/11 |
| å¹´åº¦çµ±è¨ˆ | http://127.0.0.1:5000/usage/yearly/2025 |
| é›»è²»å¸³å–® | http://127.0.0.1:5000/usage/bill |

### æ­¥é©Ÿ 3ï¼šæŸ¥çœ‹ JSON çµæœ

ç€è¦½å™¨æœƒé¡¯ç¤º JSON æ ¼å¼çš„å›æ‡‰è³‡æ–™ï¼Œä¾‹å¦‚ï¼š

![æœˆä»½çµ±è¨ˆç¯„ä¾‹](https://via.placeholder.com/600x300?text=JSON+Response+Example)

### æ­¥é©Ÿ 4ï¼šä½¿ç”¨ POST è«‹æ±‚ï¼ˆéœ€ä½¿ç”¨å·¥å…·ï¼‰

å°æ–¼ POST è«‹æ±‚ï¼ˆæ–°å¢è¨˜éŒ„ï¼‰ï¼Œå¯ä½¿ç”¨ä»¥ä¸‹å·¥å…·ï¼š

#### ä½¿ç”¨ curl

```bash
curl -X POST http://127.0.0.1:5000/usage/add \
  -H "Content-Type: application/json" \
  -d '{"device_id": 1, "kwh": 5.5}'
```

#### ä½¿ç”¨ Postman

1. é¸æ“‡ POST æ–¹æ³•
2. è¼¸å…¥ URL: `http://127.0.0.1:5000/usage/add`
3. åœ¨ Body é¸æ“‡ `raw` â†’ `JSON`
4. è¼¸å…¥ JSON è³‡æ–™
5. é»æ“Š Send

#### ä½¿ç”¨ Python

```python
import requests

# æ–°å¢å–®ç­†è¨˜éŒ„
response = requests.post(
    'http://127.0.0.1:5000/usage/add',
    json={'device_id': 1, 'kwh': 5.5}
)
print(response.json())

# æ‰¹æ¬¡æ–°å¢
response = requests.post(
    'http://127.0.0.1:5000/usage/batch',
    json={
        'records': [
            {'device_id': 1, 'kwh': 5.5},
            {'device_id': 2, 'watts': 800, 'hours': 2}
        ]
    }
)
print(response.json())
```

---

## å¸¸è¦‹å•é¡Œ

### Q1: ç‚ºä»€éº¼åŒæ¨£ç”¨ 10 åº¦é›»ï¼Œé›»è²»å»ä¸åŒï¼Ÿ

A: å› ç‚ºæ¡ç”¨ç´¯é€²è²»ç‡ï¼Œæ¯ç­†ç”¨é›»çš„è²»ç‡å–æ±ºæ–¼ã€Œç´¯ç©ç”¨é›»é‡ã€è½åœ¨å“ªå€‹ç´šè·ã€‚æœˆåˆç”¨é›»ä¾¿å®œï¼ˆç¬¬ä¸€ç´š 1.78 å…ƒ/åº¦ï¼‰ï¼Œæœˆåº•ç”¨é›»å¯èƒ½è¼ƒè²´ï¼ˆè½å…¥æ›´é«˜ç´šè·ï¼‰ã€‚

### Q2: å¤æœˆå’Œéå¤æœˆçš„è²»ç‡å·®å¤šå°‘ï¼Ÿ

A: ä¸»è¦å·®ç•°åœ¨é«˜ç”¨é›»ç´šè·ã€‚ä¾‹å¦‚ç”¨é›»è¶…é 1000 åº¦æ™‚ï¼š
- å¤æœˆï¼š8.86 å…ƒ/åº¦
- éå¤æœˆï¼š7.03 å…ƒ/åº¦
- å·®ç•°ï¼š1.83 å…ƒ/åº¦ï¼ˆç´„ 26% å·®ç•°ï¼‰

### Q3: å¦‚ä½•æŸ¥çœ‹ç‰¹å®šè¨­å‚™çš„ç”¨é›»ï¼Ÿ

A: ç›®å‰ API å›å‚³çš„æ˜¯æ•´é«”çµ±è¨ˆã€‚å¦‚éœ€æŸ¥çœ‹ç‰¹å®šè¨­å‚™ï¼Œå¯ç›´æ¥æŸ¥è©¢è³‡æ–™åº«ï¼š

```sql
SELECT * FROM power_logs WHERE device_id = 1;
```

---

## æŠ€è¡“è¦æ ¼

- **å¾Œç«¯æ¡†æ¶**ï¼šFlask 2.0+
- **è³‡æ–™åº«**ï¼šMySQL 8.0+
- **ORM**ï¼šSQLAlchemy 3.0+
- **å›æ‡‰æ ¼å¼**ï¼šJSON

---

ğŸ“… æœ€å¾Œæ›´æ–°ï¼š2025-11-30
